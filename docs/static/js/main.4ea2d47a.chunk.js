(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){},130:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),i=a(9),o=a(22),u=a(27),s=a(23),m=a(28),d=a(136),h=a(135),f="http://testappslab.ru:8001",g=new function e(){Object(i.a)(this,e),this.auth=function(e){return fetch("".concat(f,"/api/partners/auth"),{method:"POST",data:JSON.stringify(e)}).then(function(e){return e.json()})},this.getFrameLink=function(e){return"".concat(f,"/?code=").concat(e,"&lang=ru&currency=usd&mirror=true")}},p=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.createElement("p",null,"Test api")}}]),t}(n.PureComponent),b=a(69),v=a(134),k=a(133),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={uid:"",name:"",size:0,balance:0,key:0},a.handleChange=function(e,t){return a.setState(Object(b.a)({},e,t))},a.handleClick=function(){a.props.onClick(a.state)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.uid,r=t.name,c=t.key,l=t.size,i=t.balance;return n.createElement("div",{className:"form"},n.createElement("div",{className:"row"},n.createElement(v.a,{id:"size",placeholder:"frame size",addonBefore:"frame size",value:l,onChange:function(t){return e.handleChange("size",Number(t.target.value))}})),n.createElement("div",{className:"row"},n.createElement(v.a,{id:"name",placeholder:"name",addonBefore:"name",value:r,onChange:function(t){return e.handleChange("name",t.target.value)}})),n.createElement("div",{className:"row"},n.createElement(v.a,{id:"balance",placeholder:"balance",addonBefore:"balance",value:i,onChange:function(t){return e.handleChange("balance",Number(t.target.value))}})),n.createElement("div",{className:"row"},n.createElement(v.a,{id:"uid",placeholder:"uid",addonBefore:"uid",value:a,onChange:function(t){return e.handleChange("uid",t.target.value)}})),n.createElement("div",{className:"row"},n.createElement(v.a,{id:"key",placeholder:"key",addonBefore:"key",value:c,onChange:function(t){return e.handleChange("key",Number(t.target.value))}})),n.createElement(k.a,{onClick:this.handleClick},"\u0418\u0433\u0440\u0430\u0442\u044c"))}}]),t}(n.Component),C=(a(127),{AUTH:"auth",GAME:"game",UNKNOWN:"unknown"}),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={type:C.AUTH,frameSize:0,message:"",frameLink:""},a.handleClickStart=function(e){g.auth({uid:e.uid,username:e.name,secret:e.key,balance:{balance:e.balance}}).then(function(t){t.error&&a.setState({message:t.message}),t.code&&a.setState({frameSize:e.size,frameLink:g.getFrameLink(t.code)})})},a.renderFrame=function(){return n.createElement("iframe",{src:a.state.frameLink,width:a.state.frameSize,height:a.state.frameSize/2,align:"left"})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.message,a=e.frameLink,r=t.length?n.createElement(d.a,{type:"error",message:t}):null,c=a.length?this.renderFrame():null;return n.createElement("div",{className:"app"},n.createElement(h.a.Header,null,n.createElement(p,null)),n.createElement(h.a.Content,null,n.createElement("div",{className:"alert"},r),n.createElement(E,{onClick:this.handleClickStart}),c))}}]),t}(n.Component),O=(a(130),document.getElementById("root"));if(!O)throw new Error("root element hasn't created");l.a.render(r.a.createElement(y,null),O)},78:function(e,t,a){e.exports=a(132)}},[[78,2,1]]]);
//# sourceMappingURL=main.4ea2d47a.chunk.js.map